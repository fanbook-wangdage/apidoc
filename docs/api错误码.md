# Fanbook Bot API错误码通用解决方法  

> 文档将常见的api错误码进行汇总，并提供解决方法

## 机器人没有发言api白名单（10002：limit for bot send per 1 second）  

> 错误描述：在使用sendMessage Api中,返回http代码400或者api错误码为10002  

解决方法：联系Fanbook官方(10001)，说明原因，提供bot id，进行申请  
例如这样：  
![给官方1号发信息](https://fb-cdn.fanbook.cn/fanbook/app/files/chatroom/image/3e5c5ecd62271b45973ca1a9d5ab8329.png)  
官方过几天看到后会给你回复，不要着急  

## 1001	缺乏叁数  

> 错误描述：在使用大部分Api中，api返回1001错误码  

解决方法：  

1. 检查是否缺少必传参数  
2. 检查请求体格式是否正确
3. 检查请求体中的内容是否有特殊内容，有时候一些内容需要转义
4. 检查数据类型是否正确  

## 1008	请先加入服务台  

> 错误描述：在使用大部分Api中，api返回1008错误码  

解决方法：如图，添加机器人到服务器  
![添加bot到服务器](https://fb-cdn.fanbook.cn/fanbook/app/files/chatroom/image/06f9bb3007d4480fba8e5ca804d62f64.gif)  

## 1012	没有权限  

> 错误描述：在使用大部分Api中，api返回1012错误码  

解决方法：

1. 重新添加机器人到服务器，在选择使用范围时，选择所有频道或者需要使用的频道  
2. 联系bot开发者，在开放平台->应用管理->应用详情->机器人->修改机器人->权限 中，选择需要使用的权限，然后重新添加机器人到服务器  

## 用户已关闭私信 1037/机器人已被用户屏蔽 1038  

> 错误描述：在使用sendMessage Api中，api错误码为1037或1038  

解决方法：让该用户手动在隐私设置中开启私信功能，并解除对机器人的屏蔽  
